/* Podstawowe style dla site.html */
:root {
    --bg: #0b0f14;
    --fg: #e8eef5;
    --muted: #9fb3c8;
    --accent: #3aa0ff;
}

html {
    box-sizing: border-box;
}

*, *::before, *::after {
    box-sizing: inherit;
}

body {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    line-height: 1.6;
    color: var(--fg);
    background: #0b0f14;
}

header, footer {
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 1rem 1.25rem;
}

h1 {
    margin: 0;
    font-size: 1.75rem;
    position: relative; /* ponad falami */
    z-index: 1; /*0 - fale, -1 - reszta*/
}

main {
    max-width: 900px;
    margin: 1rem auto 2rem;
}

section {
    background: #0f1724;
    border: 1px solid #1b2a3a;
    border-radius: 0;
    padding: 0.5rem 0.75rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 1;
}

h2 {
    margin-top: 0;
    color: var(--accent);
}

h3 {
    color: var(--muted);
    font-weight: 600;
}

ol {
    padding-left: 1.25rem;
}

li {
    margin: 0.25rem 0;
}

/*≈ºeby trochƒô ni≈ºej ustawiƒá footer*/
footer p {
    margin: 0;
    color: var(--muted);
}

/* Ryby w tym stylu: znaczniki list (UL) majƒÖ ikonkƒô ryby */
ul li::marker {
    content: "üêü ";
}

/* Mia≈Ço byƒá bez scrolli, ale to jest lepsze */
body {
    height: 100vh;
    display: grid;
    grid-template-rows: auto 1fr auto; /* nag≈Ç√≥wek | g≈Ç√≥wna | stopka */
    overflow: hidden; /* bez paska przewijania */
    padding: 0.5rem; /* compact padding around content */
}

/* Nag≈Ç√≥wek, g≈Ç√≥wna i stopka na pe≈ÇnƒÖ szeroko≈õƒá siatki */
header, footer, main {
    max-width: none;
    margin: 0;
    width: 100%;
}

/* g≈Ç√≥wny grid 4x4 */
main {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    grid-template-rows: 1fr 1fr 1fr 1fr;
    overflow: hidden;
}

/* opcjonalne, ale wyr√≥wnuje d√≥≈Ç i dodaje scrolla dla sekcji */
main > section {
    margin: 0;
    overflow: scroll; /* sekcja przewija w≈ÇasnƒÖ tre≈õƒá */
}

/* Rozmieszczenie sekcji wg uk≈Çadu */
main > section:nth-of-type(1) { grid-column: 1; grid-row: 1 / span 3; }
main > section:nth-of-type(2) { grid-column: 3; grid-row: 1 / span 2; }
main > section:nth-of-type(3) { grid-column: 2; grid-row: 3 / span 2; }
main > section:nth-of-type(4) { grid-column: 4; grid-row: 3 / span 2; }

/* Dodatkowy kafel: w2k2 jak sekcje; w1k4 przeniesiony do .tile */
main::before {
    content: "";
    display: block;
    background: #0f1724; /* panel jak sekcje */
    border: 1px solid #1b2a3a; /* obramowanie jak sekcje */
    border-radius: 0;
    /* wewn. przewijanie jak w sekcjach */
    overflow: hidden;
    position: relative; /* dla z-index */
    z-index: 1; /* nad galeriƒÖ */
    grid-column: 2; grid-row: 2; /* w2k2 = rzƒÖd 2, kol. 2 */
}
/* Wy≈ÇƒÖcz pseudo‚Äëkafelek w1k4; zastƒôpuje go .tile-w1k4 */
main::after { content: none; display: none; }


/* Fale w stopce */
footer {
    position: relative;
    overflow: hidden; /* fale w ≈õrodku stopki */
    background: linear-gradient(180deg, #06223a 0%, #0a3454 100%);
}

/* Dwie warstwy fal u g√≥ry stopki */
footer::before,
footer::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    height: 80px;            /* wysoko≈õƒá pasma fali */
    top: -20px;              /* lekkie na≈Ço≈ºenie na g√≥rƒô */
    background-repeat: repeat-x;
    background-position: 0 100%;
    background-size: 200px 80px; /* szeroko≈õƒá kafla fali */
    pointer-events: none;
}

/* Przednia fala (ciemniejsza) */
footer::before {
    opacity: 0.9;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 60' preserveAspectRatio='none'><path d='M0 30 Q 30 0 60 30 T 120 30 V60 H0 Z' fill='%23062a44'/></svg>");
    animation: wave 14s linear infinite;
}

/* Tylna fala (ja≈õniejsza, wolniejsza) */
footer::after {
    opacity: 0.5;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 60' preserveAspectRatio='none'><path d='M0 30 Q 30 60 60 30 T 120 30 V60 H0 Z' fill='%230e4a76'/></svg>");
    animation: waveReverse 22s linear infinite;
}

@keyframes wave {
    from { background-position: 0 100%; }
    to   { background-position: 200px 100%; }
}

@keyframes waveReverse {
    from { background-position: 0 100%; }
    to   { background-position: -200px 100%; }
}

/* Fale w nag≈Ç√≥wku (odwr√≥cone) */
header {
    position: relative;
    overflow: hidden; /* fale w ≈õrodku nag≈Ç√≥wka */
    background: linear-gradient(180deg, #0a3454 0%, #06223a 100%);
    text-align: center; /* wy≈õrodkuj tytu≈Ç */
}

/* Dwie warstwy fal na dole nag≈Ç√≥wka (obr√≥t 180¬∞) */
header::before,
header::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    height: 80px;            /* wysoko≈õƒá pasma fali */
    bottom: -20px;           /* lekkie na≈Ço≈ºenie na d√≥≈Ç */
    top: auto;
    background-repeat: repeat-x;
    background-position: 0 100%;
    background-size: 200px 80px; /* szeroko≈õƒá kafla fali */
    pointer-events: none;
    transform: rotate(180deg);
    transform-origin: center;
    z-index: 0; /* fale za tytu≈Çem */
}

/* Przednia fala (ciemniejsza) */
header::before {
    opacity: 0.9;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 60' preserveAspectRatio='none'><path d='M0 30 Q 30 0 60 30 T 120 30 V60 H0 Z' fill='%23062a44'/></svg>");
    animation: wave 14s linear infinite;
}

/* Tylna fala (ja≈õniejsza, wolniejsza) */
header::after {
    opacity: 0.5;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 60' preserveAspectRatio='none'><path d='M0 30 Q 30 60 60 30 T 120 30 V60 H0 Z' fill='%230e4a76'/></svg>");
    animation: waveReverse 22s linear infinite;
}


/* Metryki siatki i ruchoma galeria */
main {
    position: relative;
    background: inherit; /* t≈Ço jak body, maskuje galeriƒô */
    --cols: 4;
    --rows: 4;
    --gap: 0.5rem;
    --cellW: calc((100% - (var(--cols) - 1) * var(--gap)) / var(--cols));
    --cellH: calc((100% - (var(--rows) - 1) * var(--gap)) / var(--rows));
    --gridW: calc(var(--cols) * var(--cellW) + (var(--cols) - 1) * var(--gap));
    --gridH: calc(var(--rows) * var(--cellH) + (var(--rows) - 1) * var(--gap));
}

/* Galeria na ca≈ÇƒÖ siatkƒô, nie blokuje interakcji */
.gallery {
    grid-column: 1 / -1;
    grid-row: 1 / -1;
    position: relative;
    display: block;
    pointer-events: none;
    z-index: 0;
    background: transparent;
    --swimDur: 8s; /* wsp√≥lny czas animacji; kr√≥tsze przerwy */
}

/* Ka≈ºda kolumna to ruchomy kafel ryby */
.gallery .col {
    position: absolute;
    width: var(--cellW);
    height: var(--cellH);
    border-radius: 12px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    box-shadow: 0 4px 12px rgba(0,0,0,.25);
}

/* Ryba 1: wchodzi z lewej, mija wiersz 1 kol. 2, wychodzi przy wierszu 2 kol. 4 (prawa krawƒôd≈∫) */
.gallery .up {
    background-image: url("resources/fish-3322230_1920.jpg");
    left: 0;
    top: 0; /* wiersz 1 */
    animation: swim_lr_w1k2 var(--swimDur) linear infinite; /* lewo -> prawo wzd≈Çu≈º wiersza 1 */
    border: 2px solid rgba(255,255,255,0.35); /* subtelna ramka */
    border-radius: 12px; /* jak zaokrƒÖglenie kafla */
    box-shadow: 0 4px 12px rgba(0,0,0,.25);
    z-index: -3; /* o jeden poziom g≈Çƒôbiej ni≈º inne ryby */
}

/* Ryba 2: wchodzi z prawej, pojawia siƒô na wierszu 3 kol. 3, wychodzi przy wierszu 4 kol. 1 (lewa krawƒôd≈∫) */
.gallery .down {
    background-image: url("resources/fish-7391851_1920.jpg");
    left: 0; /* kolumna 1 */
    top: 0; /* wiersz 4 */
    animation: swim_up_w4k1 var(--swimDur) linear infinite; /* d√≥≈Ç -> g√≥ra przez W4K1 */
}





/* Podnie≈õ przednie kafelki: w1k1/w2k1 (sekcja 1) oraz w1k3/w2k3 (sekcja 2) */
main > section:nth-of-type(1),
main > section:nth-of-type(2) {
    z-index: 3; /* na sam prz√≥d ponad innymi kaflami/nak≈Çadkami */
}


/* Dodatkowe kafelki w stylu sekcji */
.tile.extra {
    background: #0f1724; /* nieprzezroczysty panel, jak sekcje */
    border: 1px solid #1b2a3a; /* nieprzezroczysta ramka, jak sekcje */
    border-radius: 0;
    position: relative; /* w≈ÇƒÖcz z-index */
    z-index: 1; /* nad galeriƒÖ */
    padding: 0.5rem 0.75rem; /* padding jak w sekcjach (dla tre≈õci) */
    overflow: auto; /* przewijanie, gdy tre≈õƒá siƒô nie mie≈õci */
}

/* Ramki (frames) w pustych kratkach siatki, nad galeriƒÖ ryb */
.frame {
    position: relative; /* umo≈ºliwia z-index wewnƒÖtrz siatki */
    background: transparent; /* t≈Ço przezroczyste, cieniowanie dodamy pseudo-elementem */
    outline: 1px solid #0f1724; /* gruba ramka zewnƒôtrzna w kolorze sekcji */
    border-radius: 0; /* prostokƒÖtne ramki, bez zaokrƒÖgle≈Ñ */
    z-index: 1; /* nad .gallery (z-index:0), wiƒôc ryby sƒÖ pod nimi */
    pointer-events: none; /* nie blokuj interakcji */
}

/* Wype≈Çnienie z okrƒÖg≈Çym ‚Äûoknem‚Äù po≈õrodku */
.frame::after {
    content: "";
    position: absolute;
    inset: 0;
    background: #0f1724; /* zakryj ca≈ÇƒÖ kom√≥rkƒô kolorem t≈Ça sekcji */
    /* Wytnij okrƒÖg w ≈õrodku; reszta pozostaje kryjƒÖca. */
    mask: radial-gradient(circle at 50% 50%, transparent 35%, #000 0%);
}

/* Pozycje ramek: */
.frame-w1k2 { grid-column: 2; grid-row: 1; }
.frame-w2k4 { grid-column: 4; grid-row: 2; }
.frame-w3k3 { grid-column: 3; grid-row: 3; }
.frame-w4k1 { grid-column: 1; grid-row: 4; }

/* w4k3 => wiersz 4, kolumna 3 */
.tile-w4k3 { grid-column: 3; grid-row: 4; }
/* w1k4 => wiersz 1, kolumna 4 */
.tile-w1k4 { grid-column: 4; grid-row: 1; }


/* Dodatkowe zsynchronizowane obrazki B i D */
.gallery .up-b {
    background-image: url("resources/discus-fish-1943755_1920.jpg");
    left: 0; /* start poza ekranem po prawej */
    top: 0; /* wiersz 3 */
    width: var(--cellW);
    height: var(--cellH);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.25);
    border: 2px solid rgba(255,255,255,0.3);
    animation: swim_rl_w3k3 var(--swimDur) linear infinite; /* prawa -> lewa wzd≈Çu≈º wiersza 3 */
    z-index: -2; /* miƒôdzy poziomami g≈Çƒôboko≈õci ryb */
}

.gallery .down-d {
    background-image: url("resources/fish-6354894_1920.jpg");
    left: 0;
    top: 0;
    width: var(--cellW);
    height: var(--cellH);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.25);
    border: 2px solid rgba(255,255,255,0.25);
    animation: swim_down_w2k4 var(--swimDur) linear infinite; /* top -> down through W2K4 */
    z-index: -1;
}



/* Nowe klatki kluczowe kierunk√≥w zgodnie z uk≈Çadem okien siatki */
@keyframes swim_lr_w1k2 {
    0% {
        left: calc(-1 * var(--cellW));
        top: 0; /* wiersz 1 */
        transform: none;
    }
    100% {
        left: var(--gridW);
        top: 0; /* wiersz 1 */
        transform: none;
    }
}

@keyframes swim_up_w4k1 {
    0% {
        left: 0; /* kolumna 1 */
        top: var(--gridH); /* start poza ekranem na dole */
        transform: none;
    }
    100% {
        left: 0; /* kolumna 1 */
        top: calc(-1 * var(--cellH)); /* wyj≈õcie poza ekranem u g√≥ry */
        transform: none;
    }
}

@keyframes swim_down_w2k4 {
    0% {
        left: calc(3 * (var(--cellW) + var(--gap))); /* kolumna 4 */
        top: calc(-1 * var(--cellH)); /* start poza ekranem u g√≥ry */
        transform: none;
    }
    100% {
        left: calc(3 * (var(--cellW) + var(--gap))); /* kolumna 4 */
        top: var(--gridH); /* wyj≈õcie poza ekranem na dole */
        transform: none;
    }
}

@keyframes swim_rl_w3k3 {
    0% {
        left: var(--gridW); /* start poza ekranem po prawej */
        top: calc(2 * (var(--cellH) + var(--gap))); /* wiersz 3 */
        transform: scaleX(-1);
    }
    100% {
        left: calc(-1 * var(--cellW)); /* wyj≈õcie poza ekranem po lewej */
        top: calc(2 * (var(--cellH) + var(--gap))); /* wiersz 3 */
        transform: scaleX(-1);
    }
}


/* Responsive adjustments: minimalist support for ~375px phones */
@media (max-width: 420px) {
    /* Allow natural page scroll on small screens */
    body {
        height: auto;
        overflow: auto;
        padding: 0.5rem;
    }

    /* Stack content vertically; grid becomes a linear flow */
    main {
        display: block;
        margin: 0.5rem 0 1rem;
    }

    /* Keep content readable and compact */
    header,
    footer {
        padding: 0.75rem 1rem;
    }

    section,
    .tile.extra {
        margin-bottom: 0.75rem;
        padding: 0.5rem 0.75rem;
    }

    /* Hide decorative layers on small screens */
    .gallery,
    .frame {
        display: none !important;
    }
}

@media (min-width: 1600px) {
    h1 {
        font-size: 2rem;
    }
}

/* Niskie, szerokie ekrany (np. 1440x375) ‚Äì ukryj galeriƒô ryb */
@media (max-height: 420px) and (min-width: 1200px) and (orientation: landscape) {
    /* Ukryj dekoracje i upro≈õƒá widok */
    .gallery, .frame, .tile.extra { display: none !important; }

    /* Kompaktowy uk≈Çad krawƒôdzi strony */
    body { padding: 0.25rem; }
    header, footer { padding: 0.25rem 0.5rem; }
    h1 { font-size: 1.25rem; }

    /* Zmniejszone fale w nag≈Ç√≥wku i stopce */
    header::before, header::after, footer::before, footer::after {
        height: 32px;
        background-size: 160px 32px;
    }
    header::before, header::after { bottom: -8px; top: auto; }
    footer::before, footer::after { top: -8px; }

    /* JednorzƒÖdowy uk≈Çad: cztery kolumny obok siebie */
    main {
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: 1fr;
        gap: 0.5rem;
    }

    /* Sekcje: ka≈ºda w swojej kolumnie, pe≈Çna wysoko≈õƒá rzƒôdu */
    main > section { overflow: auto; padding: 0.4rem 0.5rem; }
    main > section:nth-of-type(1) { grid-column: 1; grid-row: 1; }
    main > section:nth-of-type(2) { grid-column: 2; grid-row: 1; }
    main > section:nth-of-type(3) { grid-column: 3; grid-row: 1; }
    main > section:nth-of-type(4) { grid-column: 4; grid-row: 1; }
}
